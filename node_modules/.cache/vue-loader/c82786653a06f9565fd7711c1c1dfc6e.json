{"remainingRequest":"/home/bill/develop/view/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/bill/develop/view/src/components/VariableEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/bill/develop/view/src/components/VariableEdit.vue","mtime":1553175146686},{"path":"/home/bill/develop/view/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bill/develop/view/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/bill/develop/view/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bill/develop/view/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapMutations } from 'vuex'\nimport {store} from \"../store\"\n\nconst cloneDeep = require('clone-deep')\n\nexport default {\n  data () {\n    return {\n      current: cloneDeep(this.variable),\n      nameErr: null,\n      expressionErr: null,\n      validates: true,\n    }\n  },\n  store: store,\n  props: ['variable'],\n  created: function () {\n    this.validate()\n  },\n  watch: {\n    variable: function (newVal) {\n      this.current = cloneDeep(newVal)\n      this.validate()\n    }\n  },\n  mounted() {\n  },\n  computed: {\n  },\n  methods: {\n    ...mapMutations({\n      addVariable: 'addTestVariable',\n      delVariable: 'delTestVariable'\n    }),\n    clearErrors () {\n      // if (!this.currentId) {\n      //   return\n      // }\n      // console.log('current is ' + this.currentIndex)\n      // let variable = this.$store.state.testEditor.variables[this.currentIndex]\n      this.nameErr = null\n      this.expressionErr = null\n      this.validates = true\n    },\n    validate () {\n      // if (!this.currentId) {\n      //   return\n      // }\n      this.clearErrors()\n      // let variable = this.$store.state.testEditor.variables[this.currentIndex]\n      if (!this.current.name) {\n        this.nameErr = 'Name required'\n        this.current.validates = false\n      }\n      if (this.current.name && this.current.name.startsWith('#')) {\n        this.nameErr = 'Enter real name'\n        this.validates = false\n      }\n      let count = 0\n      if (this.current.expression) {\n        count++\n      }\n      if (this.current.headerField) {\n        count++\n      }\n      if (this.current.path) {\n        count++\n      }\n      if (count > 1) {\n        this.expressionErr = 'Only one of expression, headerField, or path may be defined'\n      } else if (count === 0) {\n        this.expressionErr = 'One of expression, headerField, or path must be defined'\n      } else {\n        this.expressionErr = null\n      }\n      if (this.expressionErr) { this.validates = false }\n    },\n  },\n  name: 'VariableEdit'\n}\n\n",{"version":3,"sources":["VariableEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VariableEdit.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n  <div class=\"window\">\n    <form class=\"grid-container\">\n\n      <div class=\"grid-status\">{{ nameErr }}</div>\n      <label for=\"name\" class=\"grid-name\">Name</label>\n      <input id=\"name\" class=\"grid-item\" v-on:blur=\"validate\" v-model=\"current.name\">\n\n      <div class=\"grid-status\"></div>\n      <label for=\"defaultValue\" class=\"grid-name\">DefaultValue</label>\n      <input id=\"defaultValue\" class=\"grid-item\" v-model=\"current.defaultValue\">\n\n      <div class=\"grid-status\"></div>\n      <label for=\"description\" class=\"grid-name\">Description</label>\n      <input id=\"description\" class=\"grid-item\" v-model=\"current.description\">\n\n      <div></div>\n      <div class=\"grid-status\"></div>\n      <div class=\"grid-documentation\">Hint help text for default value to enter</div>\n      <div></div>\n      <label for=\"hint\" class=\"grid-name\">Hint</label>\n      <input id=\"hint\" class=\"grid-item\" v-model=\"current.hint\">\n\n      <div></div>\n      <div class=\"grid-status\"></div>\n      <div class=\"grid-documentation\">Fixture Id of source expression or headerField within this variable.\n        This can be a statically defined fixture (at the top of the TestScript) or a dynamically\n        set fixture created by responseId of the action.operation element</div>\n      <div></div>\n      <label for=\"sourceId\" class=\"grid-name\">SourceId</label>\n      <input id=\"sourceId\" class=\"grid-item space-after\" v-on:blur=\"validate\" v-model=\"current.sourceId\">\n\n      <div class=\"grid-status yellow-background\">{{ expressionErr }}</div>\n      <div class=\"grid-documentation yellow-background bold-font\">One of...</div>\n      <div class=\"grid-documentation yellow-background\"></div>\n      <div class=\"grid-documentation yellow-background\">The FHIRPath expression against the fixture body. If headerField is defined,\n        then the variable will be evaluated against the headers that sourceId is pointing to.\n        If expression or path is defined, then the variable will be evaluated against the\n        fixture body that sourceId is pointing to. It is an error to define any combination of\n        expression, headerField and path.</div>\n      <div></div>\n      <label for=\"expression\" class=\"grid-name\">Expression</label>\n      <input id=\"expression\" class=\"grid-item yellow-background\" v-on:blur=\"validate\" v-model=\"current.expression\">\n\n\n\n      <div></div>\n      <div class=\"grid-status yellow-background\"></div>\n      <div class=\"grid-documentation yellow-background\">HTTP header field name for source. If headerField is defined,\n        then the variable will be evaluated against the headers that sourceId is pointing to.\n        If path is defined, then the variable will be evaluated against the fixture body that\n        sourceId is pointing to. It is an error to define both headerField and path.</div>\n      <div></div>\n      <label for=\"headerField\" class=\"grid-name\">HeaderField</label>\n      <input id=\"headerField\" class=\"grid-item yellow-background\" v-on:blur=\"validate\" v-model=\"current.headerField\">\n\n      <div></div>\n      <div class=\"grid-status yellow-background\"></div>\n      <div class=\"grid-documentation yellow-background\">XPath or JSONPath against the fixture body. If headerField is defined,\n        then the variable will be evaluated against the headers that sourceId is pointing to.\n        If expression or path is defined, then the variable will be evaluated against the fixture\n        body that sourceId is pointing to. It is an error to define any combination of expression,\n        headerField and path.</div>\n      <div></div>\n      <label for=\"path\" class=\"grid-name\">Path</label>\n      <input id=\"path\" class=\"grid-item yellow-background\" v-on:blur=\"validate\" v-model=\"current.path\">\n\n    </form>\n  </div>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport {store} from \"../store\"\n\nconst cloneDeep = require('clone-deep')\n\nexport default {\n  data () {\n    return {\n      current: cloneDeep(this.variable),\n      nameErr: null,\n      expressionErr: null,\n      validates: true,\n    }\n  },\n  store: store,\n  props: ['variable'],\n  created: function () {\n    this.validate()\n  },\n  watch: {\n    variable: function (newVal) {\n      this.current = cloneDeep(newVal)\n      this.validate()\n    }\n  },\n  mounted() {\n  },\n  computed: {\n  },\n  methods: {\n    ...mapMutations({\n      addVariable: 'addTestVariable',\n      delVariable: 'delTestVariable'\n    }),\n    clearErrors () {\n      // if (!this.currentId) {\n      //   return\n      // }\n      // console.log('current is ' + this.currentIndex)\n      // let variable = this.$store.state.testEditor.variables[this.currentIndex]\n      this.nameErr = null\n      this.expressionErr = null\n      this.validates = true\n    },\n    validate () {\n      // if (!this.currentId) {\n      //   return\n      // }\n      this.clearErrors()\n      // let variable = this.$store.state.testEditor.variables[this.currentIndex]\n      if (!this.current.name) {\n        this.nameErr = 'Name required'\n        this.current.validates = false\n      }\n      if (this.current.name && this.current.name.startsWith('#')) {\n        this.nameErr = 'Enter real name'\n        this.validates = false\n      }\n      let count = 0\n      if (this.current.expression) {\n        count++\n      }\n      if (this.current.headerField) {\n        count++\n      }\n      if (this.current.path) {\n        count++\n      }\n      if (count > 1) {\n        this.expressionErr = 'Only one of expression, headerField, or path may be defined'\n      } else if (count === 0) {\n        this.expressionErr = 'One of expression, headerField, or path must be defined'\n      } else {\n        this.expressionErr = null\n      }\n      if (this.expressionErr) { this.validates = false }\n    },\n  },\n  name: 'VariableEdit'\n}\n\n</script>\n\n<style scoped>\n.window {\n  display: grid;\n  grid-template-columns: auto auto;\n  margin: 5px;\n}\n.selectors-group {\n}\n.selector {\n  width: 100px;\n  background-color:  white;\n}\n.grid-container {\n  display: grid;\n  grid-template-columns: 15ch auto;\n  grid-template-rows: auto;\n\n}\n.grid-name {\n  font-weight: bold;\n  background-color: rgba(255, 255, 255, 0.8);\n  grid-column: 1;\n}\n.grid-item {\n  background-color: rgba(255, 255, 255, 0.8);\n  grid-column: 2;\n}\n.grid-status {\n  background-color: rgba(255, 255, 255, 0.8);\n  color: red;\n  grid-column: 2;\n}\n.grid-documentation {\n  font-size: 0.8em;\n  background-color: rgba(255, 255, 255, 0.8);\n  grid-column: 2;\n}\n.bold-font {\n  font-weight: bold;\n}\n.haserror {\n  color: red;\n}\n.space-after {\n  margin-bottom: 15px;\n}\n.yellow-background {\n  background-color: palegoldenrod;\n}\n</style>\n"]}]}